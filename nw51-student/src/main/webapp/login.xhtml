<ui:composition template="/layout/templateLogin.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    
    <ui:define name="body">
        
        <script type="text/javascript">
					
			/**
			 * Handles the login ajax request.
			 */
			function handleLoginRequest (xhr, status, args) {
		        if (args.isLogged) {
		        	redirectTo (args.redirectToPage);
		        }
		    }
				
		</script>
		
		<!-- Top content -->
        <div class="top-content bg-login">
        	
            <div class="inner-bg">
                <div class="container">
                    <div class="row">
                        <div>
                        	<h:graphicImage value="/resources/img/logo_nw51_white.png" />
                        </div>
                        <div class="col-sm-8 col-sm-offset-2 text">
                            <div class="login-title">
                            	<strong>Central do aluno</strong>
                            </div>                            
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-sm-offset-3 form-box">
                        	<div class="form-bottom">
			                    <h:form id="formLogin" method="post" styleClass="login-form">
			                    	<p:messages id="messagesLogin" globalOnly="true" for="formLogin:messagesLogin" showDetail="true" autoUpdate="true" closable="true" />
			                    	<div class="form-group">			                    	
			                    		<label id="lblEmail" for="formLogin:txtEmail" styleClass="sr-only">Email</label>
										<h:inputText id="txtEmail" value="#{loginController.emailForm}" maxlength="100" styleClass="form-username form-control" />
			                        </div>
			                        <div class="form-group">
			                        	<label id="lblPwd" for="formLogin:txtPwd" styleClass="sr-only">Senha</label>
										<h:inputSecret id="txtPwd" value="#{loginController.pwdForm}" maxlength="20" styleClass="form-password form-control" />
			                        </div>
			                        <p:commandButton value="Login" id="buttonLogin" styleClass="btn" actionListener="#{loginController.doLogin}" update="messagesLogin, txtEmail, txtPwd" oncomplete="handleLoginRequest (xhr, status, args)" onclick="hideWithTimer('formLogin\\:messagesLogin');submitWithTimer('formLogin');" />			                        
			                        <div class="forgot-pwd">
			                        	<a href="#">Criar conta</a> | <a href="#">Esqueceu a senha?</a>
			                        </div>
			                    </h:form>
		                    </div>
                        </div>
                    </div>                    
                </div>
            </div>
            
        </div>
		
    </ui:define>
</ui:composition>